# =============================================================================
# BAASIX Environment Configuration
# =============================================================================
# Copy this file to .env and update the values for your environment.
# Lines starting with # are comments. Uncomment variables to enable them.

# =============================================================================
# SERVER
# =============================================================================

# Port number the server will listen on
PORT=8056

# Log level: fatal | error | warn | info | debug | trace | silent
# Use 'debug' or 'trace' to enable verbose logging
LOG_LEVEL=info

# Maximum number of requests allowed per interval
RATE_LIMIT=100

# Rate limit interval in milliseconds (5 seconds = 5000ms)
RATE_LIMIT_INTERVAL=5000

# Require email verification before user can login
REQUIRE_EMAIL_VERIFICATION=false

# =============================================================================
# DATABASE (PostgreSQL)
# =============================================================================

# PostgreSQL connection URL
DATABASE_URL="postgresql://postgres:yourpassword@localhost:5432/baasix"

# Number of connection retry attempts on startup
DATABASE_MAX_RETRY=3

# Delay between retry attempts in milliseconds
DATABASE_RETRY_INTERVAL=5000

# Enable PostGIS extension for geospatial queries
DATABASE_POSTGIS=false

# Log SQL queries to console (requires LOG_LEVEL=debug to see output)
DATABASE_LOGGING=false

# Maximum number of connections in the pool
DATABASE_POOL_MAX=10

# =============================================================================
# CACHE
# =============================================================================

# Enable/disable caching
CACHE_ENABLED=true

# Cache adapter: memory | redis | upstash
CACHE_ADAPTER=memory

# Default TTL (Time To Live) in seconds
CACHE_TTL=300

# Redis connection URL (for redis adapter)
# CACHE_REDIS_URL=redis://localhost:6379

# =============================================================================
# JWT / AUTHENTICATION
# =============================================================================

# Secret key for JWT signing (min 32 characters recommended)
SECRET_KEY=your-secret-key-min-32-chars-change-this

# Access token expiration time in seconds (default: 7 days = 604800)
ACCESS_TOKEN_EXPIRES_IN=604800

# =============================================================================
# MULTI-TENANCY
# =============================================================================

# Enable multi-tenant mode
MULTI_TENANT=false

# Allow public user registration
PUBLIC_REGISTRATION=true

# Default role assigned to new users
DEFAULT_ROLE_REGISTERED=user

# =============================================================================
# FILE STORAGE
# =============================================================================

# Enabled storage services (comma-separated)
STORAGE_SERVICES_ENABLED="LOCAL"

# Default storage service to use
STORAGE_DEFAULT_SERVICE="LOCAL"

# --- Local Storage ---
LOCAL_STORAGE_DRIVER=LOCAL
LOCAL_STORAGE_PATH="./uploads"

# =============================================================================
# CORS (Cross-Origin Resource Sharing)
# =============================================================================

# Allowed origins for CORS requests (comma-separated)
AUTH_CORS_ALLOWED_ORIGINS="http://localhost:3000,http://localhost:5173"

# Allow any port for the specified origins
AUTH_CORS_ALLOW_ANY_PORT=true

# Allow credentials (cookies, authorization headers) in CORS requests
AUTH_CORS_CREDENTIALS=true

# =============================================================================
# COOKIES
# =============================================================================

# Secure flag - only send cookies over HTTPS (set true in production)
AUTH_COOKIE_SECURE=false

# SameSite policy: strict | lax | none
AUTH_COOKIE_SAME_SITE=lax

# =============================================================================
# OAUTH / SOCIAL AUTHENTICATION
# =============================================================================

# Enabled auth services (comma-separated): LOCAL,GOOGLE,FACEBOOK,APPLE,GITHUB
AUTH_SERVICES_ENABLED=LOCAL

# Allowed redirect URLs after OAuth (comma-separated)
AUTH_APP_URL="http://localhost:3000"

# --- Google OAuth (uncomment to enable) ---
# GOOGLE_CLIENT_ID=your_google_client_id
# GOOGLE_CLIENT_SECRET=your_google_client_secret

# --- GitHub OAuth (uncomment to enable) ---
# GITHUB_CLIENT_ID=your_github_client_id
# GITHUB_CLIENT_SECRET=your_github_client_secret

# =============================================================================
# SOCKET.IO (Real-time) - Optional
# =============================================================================

# Enable/disable Socket.IO for real-time updates
SOCKET_ENABLED=false

# Allowed origins for Socket.IO CORS (comma-separated)
# SOCKET_CORS_ENABLED_ORIGINS="http://localhost:3000"

# =============================================================================
# OPENAPI / SWAGGER
# =============================================================================

# Enable OpenAPI documentation endpoint (/openapi)
OPENAPI_ENABLED=true
